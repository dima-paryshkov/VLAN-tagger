# VLAN tagger

## Установка

    mkdir build
    cd build
    cmake ..
    make
    cd ..
    ./vlan-tagger <опции и аргументы>

## Входные данные и запуск

Запуск VLAN tagger может происходить с разными опциями. Вы можете использовать любую, удобную для Вас.

1. Запуск с файлом конфигурации. При запуске в данном режиме необходимо использовать опцию -f, после которой необходимо указать относительный или абсолютный путь до файла конфигурации. 

Структура: 

    sudo ./vlan-tagger -f <файл_конфигурации>

Пример: 

    sudo ./vlan-tagger -f pool_ip.conf

Файл концигурации должен иметь следующую структуру:

    <входной_интрефейс> <выходной_интрефейс>
    < ip адрес > < номер vlan >
    < ip адрес > < номер vlan > и т.д.

Пример файла конфигурации: 

    eth0 lo
    192.168.1.1 1
    234.34.64.2 2
    145.176.1.6 3

2. Запуск, где содержания файла концигурации передаются через аргументы CLI. При запуске в данном режиме необходимо использовать три опции: i, o и p. После каждой опции необходимо указать параметр, за который они отвечают. Структура опций и их параметров:

-i <входной интрефейс>
-o <выходной интрефейс>
-p <пул адресов>, где пул адресов - < ip адрес > < номер vlan > и т.д.

Полная структура запуска: 

    sudo ./vlan-tagger -i <входной интрефейс> -o <выходной интрефейс> -p <пул адресов>

Опции с их аргументами могут быть указаны в любом порядке.

Пример:

    sudo ./vlan-tagger -i eth0 -p 234.34.64.2 2 145.176.1.6 3 -o eth1

При данном варианте запуске программа создаст вспомогательный файл конфигурации, для сохранения инофрмации и её использовании после перезапуска системы.

Для получения данной информации в CLI можно использовать -h опцию. 

После запуска входнные данные проверяются на корректность:

    1. Отсутсвие коллизий в пуле адресов
    2. Наличие интерфейсов в системе

